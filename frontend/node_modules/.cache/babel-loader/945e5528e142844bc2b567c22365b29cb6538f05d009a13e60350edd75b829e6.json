{"ast":null,"code":"var _jsxFileName = \"D:\\\\diya\\\\frontend\\\\src\\\\camera.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Camera = () => {\n  _s();\n  const videoRef = useRef(null);\n  const photoRef = useRef(null);\n  const [hasPhoto, setHasPhoto] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const mediaRecorder = useRef(null);\n  const [recordedChunks, setRecordedChunks] = useState([]);\n\n  // Start video stream from webcam\n  const startCamera = async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    });\n    videoRef.current.srcObject = stream;\n    videoRef.current.play();\n  };\n\n  // Stop video stream\n  const stopCamera = () => {\n    const stream = videoRef.current.srcObject;\n    const tracks = stream.getTracks();\n    tracks.forEach(track => track.stop());\n  };\n\n  // Capture photo from the video stream\n  const takePhoto = () => {\n    const width = 400;\n    const height = 300;\n    const photo = photoRef.current;\n    const context = photo.getContext('2d');\n    photo.width = width;\n    photo.height = height;\n    context.drawImage(videoRef.current, 0, 0, width, height);\n    setHasPhoto(true);\n  };\n\n  // Start video recording\n  const startRecording = () => {\n    const stream = videoRef.current.srcObject;\n    mediaRecorder.current = new MediaRecorder(stream);\n    mediaRecorder.current.ondataavailable = handleDataAvailable;\n    mediaRecorder.current.start();\n    setRecording(true);\n  };\n\n  // Stop video recording\n  const stopRecording = () => {\n    mediaRecorder.current.stop();\n    setRecording(false);\n  };\n\n  // Store video data when available\n  const handleDataAvailable = event => {\n    if (event.data.size > 0) {\n      setRecordedChunks(prev => [...prev, event.data]);\n    }\n  };\n\n  // Save video file to disk\n  const saveVideo = () => {\n    const blob = new Blob(recordedChunks, {\n      type: 'video/webm'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'recorded_video.webm';\n    document.body.appendChild(a);\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Camera\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startCamera,\n        children: \"Start Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopCamera,\n        children: \"Stop Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: takePhoto,\n        children: \"Capture Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: photoRef,\n        style: {\n          display: hasPhoto ? 'block' : 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), hasPhoto && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setHasPhoto(false),\n        children: \"Clear Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startRecording,\n        disabled: recording,\n        children: \"Start Recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stopRecording,\n        disabled: !recording,\n        children: \"Stop Recording\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), recordedChunks.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveVideo,\n        children: \"Save Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(Camera, \"EKBBy7sdCD4gG/mbwNhwYmjn+ew=\");\n_c = Camera;\nexport default Camera;\nvar _c;\n$RefreshReg$(_c, \"Camera\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","Camera","_s","videoRef","photoRef","hasPhoto","setHasPhoto","recording","setRecording","mediaRecorder","recordedChunks","setRecordedChunks","startCamera","stream","navigator","mediaDevices","getUserMedia","video","audio","current","srcObject","play","stopCamera","tracks","getTracks","forEach","track","stop","takePhoto","width","height","photo","context","getContext","drawImage","startRecording","MediaRecorder","ondataavailable","handleDataAvailable","start","stopRecording","event","data","size","prev","saveVideo","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","revokeObjectURL","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","style","display","disabled","length","_c","$RefreshReg$"],"sources":["D:/diya/frontend/src/camera.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\n\r\nconst Camera = () => {\r\n  const videoRef = useRef(null);\r\n  const photoRef = useRef(null);\r\n  const [hasPhoto, setHasPhoto] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const mediaRecorder = useRef(null);\r\n  const [recordedChunks, setRecordedChunks] = useState([]);\r\n\r\n  // Start video stream from webcam\r\n  const startCamera = async () => {\r\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n    videoRef.current.srcObject = stream;\r\n    videoRef.current.play();\r\n  };\r\n\r\n  // Stop video stream\r\n  const stopCamera = () => {\r\n    const stream = videoRef.current.srcObject;\r\n    const tracks = stream.getTracks();\r\n    tracks.forEach((track) => track.stop());\r\n  };\r\n\r\n  // Capture photo from the video stream\r\n  const takePhoto = () => {\r\n    const width = 400;\r\n    const height = 300;\r\n    const photo = photoRef.current;\r\n    const context = photo.getContext('2d');\r\n\r\n    photo.width = width;\r\n    photo.height = height;\r\n    context.drawImage(videoRef.current, 0, 0, width, height);\r\n    setHasPhoto(true);\r\n  };\r\n\r\n  // Start video recording\r\n  const startRecording = () => {\r\n    const stream = videoRef.current.srcObject;\r\n    mediaRecorder.current = new MediaRecorder(stream);\r\n    mediaRecorder.current.ondataavailable = handleDataAvailable;\r\n    mediaRecorder.current.start();\r\n    setRecording(true);\r\n  };\r\n\r\n  // Stop video recording\r\n  const stopRecording = () => {\r\n    mediaRecorder.current.stop();\r\n    setRecording(false);\r\n  };\r\n\r\n  // Store video data when available\r\n  const handleDataAvailable = (event) => {\r\n    if (event.data.size > 0) {\r\n      setRecordedChunks((prev) => [...prev, event.data]);\r\n    }\r\n  };\r\n\r\n  // Save video file to disk\r\n  const saveVideo = () => {\r\n    const blob = new Blob(recordedChunks, { type: 'video/webm' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'recorded_video.webm';\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Camera</h2>\r\n\r\n      <div>\r\n        <video ref={videoRef}></video>\r\n        <button onClick={startCamera}>Start Camera</button>\r\n        <button onClick={stopCamera}>Stop Camera</button>\r\n      </div>\r\n\r\n      <div>\r\n        <button onClick={takePhoto}>Capture Photo</button>\r\n        <canvas ref={photoRef} style={{ display: hasPhoto ? 'block' : 'none' }}></canvas>\r\n        {hasPhoto && <button onClick={() => setHasPhoto(false)}>Clear Photo</button>}\r\n      </div>\r\n\r\n      <div>\r\n        <button onClick={startRecording} disabled={recording}>Start Recording</button>\r\n        <button onClick={stopRecording} disabled={!recording}>Stop Recording</button>\r\n        {recordedChunks.length > 0 && <button onClick={saveVideo}>Save Video</button>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Camera;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}